## 1.0 编写目标

搞PHP也5年了，算是有一些大型项目的开发经验，做个分享希望可以帮助到一些有点迷茫的同学，同时接受各方的批评和指点。

## 2.0 奇淫巧技

### 2.1 **non-blocking Request**

- **简介:**

    是不是你已厌烦了PHP的同步阻塞IO，那就来看一下利用PHP如何实现原生的非阻塞吧，保证让你有一种恍然大悟的赶脚。

- **场景:**

    消息推送但不考虑结果状态，如Webhook

- **代码:**

    > framework/src/Request.class.php

### 2.2 **Promise\all**

- **简介:**

    现在Promise已经烂大街了，其中 `all` 的实现值得PHP程序员借鉴一下，我们可以利用它达到并发请求的目标，并且该写法也更为优雅。

- **场景:**

    并发请求接口，如批量发送邮件，爬虫

- **代码:**

    > GuzzleHttp/Promise

### 2.3 **Redis Pipeline**

- **简介:**

    Redis中管道是性能优化的一大利器，性能提升的原因主要是TCP连接中减少了“交互往返”的时间。不过有的同学可能会想不是可以用 `mset` 以及 `mget` 吗，此处稍微夸赞一下下此类同学，你们想到点子上了，那如何做取舍呢，请看代码就知道了

- **场景:**

    大批量数据的CURD

- **代码:**

    > 

### 2.4 **AMQP**



### 2.5 **MySQL BatchInsert**



### 2.6 **Deamon Process**

在处理消息队列中的任务时，采用守护进程的方式处理，但守护进程需要考虑的因素有很多，比如内存溢出，程序退出，优雅重启，避免窗口退出造成进程死掉

### 2.7 **PThread**

多线程程序只能运行在cli模式下，而且其实现与其他语言有很大的不同，多个线程之间不能通过共享内存变量的方式进行通信，因为多线程之间被互相隔离了

### 2.8 **Memory**

如何控制内存的使用率，变量引用，迭代器，GC，重启，限制单个进程的内存使用

### 2.9 **Hooks**

使用钩子可以更好的做到切面编程

### 2.10 **Logger**

Mongologger

### 2.11 **HeapSort**

TopK

### 2.12 **Composer Psr4**

autoload

### 2.13 **Lock**

多个请求同时操纵一个资源，需要加锁

### 2.14 **phptrace**



### 2.15 **Cache-Aside**
### 2.16 **Zookeeper**
### 2.17 **static variables**